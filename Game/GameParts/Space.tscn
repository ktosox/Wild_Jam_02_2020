[gd_scene load_steps=6 format=2]

[ext_resource path="res://Resources/Textures/ground_texture_1.png" type="Texture" id=1]
[ext_resource path="res://Resources/Textures/Water.png" type="Texture" id=2]
[ext_resource path="res://GameParts/Bubble.tscn" type="PackedScene" id=3]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;	
uniform float blur_size = 0.0 ;
uniform float range = 4.0;
render_mode blend_mix;	
	
	
	
void fragment() {	

	vec4 col = vec4(0.0);
        //vec2 uv = UV + vec2((index/9.0 - 0.5) * blur_size * invAspect, 0);
        //add color at position to color
		for (float i = 1.0;i<range;i++){
			 col += texture(TEXTURE, UV+vec2(0,blur_size*i));
			 col += texture(TEXTURE, UV+vec2(0,-blur_size));
			 col += texture(TEXTURE, UV+vec2(blur_size,0));
			 col += texture(TEXTURE, UV+vec2(-blur_size,0));
			 col += texture(TEXTURE, UV+vec2(-blur_size,-blur_size));
			 col += texture(TEXTURE, UV+vec2(blur_size,-blur_size));
			 col += texture(TEXTURE, UV+vec2(blur_size,blur_size));
			 col += texture(TEXTURE, UV+vec2(-blur_size,blur_size));   
			col = col / 8.0;
		}

    //divide the sum of values by the amount of samples
    
    COLOR = col;

	}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/blur_size = -0.001
shader_param/range = 4.0

[node name="Space" type="Node2D"]

[node name="GroundLayer" type="Node2D" parent="."]

[node name="ground_texture_1" type="Sprite" parent="GroundLayer"]
material = SubResource( 2 )
scale = Vector2( 4, 4 )
texture = ExtResource( 1 )

[node name="BubbleLayer" type="Node2D" parent="."]
visible = false
modulate = Color( 0.360784, 0.498039, 0.54902, 1 )

[node name="Bubble" parent="BubbleLayer" instance=ExtResource( 3 )]
position = Vector2( -1179.5, 790.501 )

[node name="Bubble2" parent="BubbleLayer" instance=ExtResource( 3 )]
position = Vector2( 957.986, -588.328 )

[node name="Bubble3" parent="BubbleLayer" instance=ExtResource( 3 )]
position = Vector2( -396.758, -913.466 )

[node name="Bubble4" parent="BubbleLayer" instance=ExtResource( 3 )]
position = Vector2( 1090.45, 1272.19 )

[node name="Bubble5" parent="BubbleLayer" instance=ExtResource( 3 )]
position = Vector2( -2197.06, -1154.31 )

[node name="Bubble6" parent="BubbleLayer" instance=ExtResource( 3 )]
position = Vector2( -414.822, -100.62 )

[node name="WaterLayer" type="Node2D" parent="."]
visible = false
modulate = Color( 1, 1, 1, 0.843137 )

[node name="TextureRect" type="TextureRect" parent="WaterLayer"]
margin_left = -3000.0
margin_top = -3000.0
margin_right = 3000.0
margin_bottom = 3000.0
texture = ExtResource( 2 )
expand = true
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}
